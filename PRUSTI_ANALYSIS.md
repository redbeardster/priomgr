# Prusti –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è - –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

## üìã –°—Ç–∞—Ç—É—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```
‚ùå Prusti –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚ö†Ô∏è  –¢—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
   - –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è nightly Rust
   - Java Runtime Environment
   - Viper infrastructure
   - Z3 SMT solver
```

## üîç –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1. Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
docker pull viperproject/prusti
docker run -v $(pwd):/data viperproject/prusti prusti-rustc /data/src/verification.rs
```

### 2. –°–∫–∞—á–∞—Ç—å —Ä–µ–ª–∏–∑
```bash
# –°–∫–∞—á–∞—Ç—å —Å GitHub releases
wget https://github.com/viperproject/prusti-dev/releases/latest/download/prusti-release-ubuntu.zip
unzip prusti-release-ubuntu.zip
export PATH=$PATH:$(pwd)/prusti-release/
```

### 3. –°–æ–±—Ä–∞—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤
```bash
git clone https://github.com/viperproject/prusti-dev.git
cd prusti-dev
./x.py setup
./x.py build --release
```

---

## üéØ –ß—Ç–æ Prusti –ø—Ä–æ–≤–µ—Ä–∏–ª –±—ã

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—à–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏ —á—Ç–æ Prusti –ø—Ä–æ–≤–µ—Ä–∏–ª –±—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç 1: calculate_optimal_priority_verified

```rust
#[requires(MIN_PRIORITY <= current_priority && current_priority <= MAX_PRIORITY)]
#[ensures(MIN_PRIORITY <= result && result <= MAX_PRIORITY)]
#[ensures(load > 50.0 ==> result <= current_priority)]
pub fn calculate_optimal_priority_verified(
    current_priority: i32,
    target_priority: i32,
    load: f64,
    responsiveness_ms: u64,
    available_memory_mb: u64,
    num_cpus: usize,
) -> i32 {
    let mut priority = target_priority;

    if load > (num_cpus as f64) * CRITICAL_LOAD_MULTIPLIER as f64 {
        priority = (priority - 10).max(MIN_PRIORITY);
    }

    if responsiveness_ms > 2000 {
        priority = (priority - 5).max(MIN_PRIORITY);
    }

    if available_memory_mb < 100 {
        priority = (priority - 3).max(MIN_PRIORITY);
    }

    priority.clamp(MIN_PRIORITY, MAX_PRIORITY)
}
```

#### –ß—Ç–æ Prusti –ø—Ä–æ–≤–µ—Ä–∏–ª –±—ã:

**1. –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ (requires):**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: –í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç MIN_PRIORITY <= current_priority <= MAX_PRIORITY
–ú–µ—Ç–æ–¥: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö call sites
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS (–µ—Å–ª–∏ –≤—Å–µ –≤—ã–∑–æ–≤—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã)
```

**2. –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ 1 (ensures):**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: MIN_PRIORITY <= result <= MAX_PRIORITY
–ú–µ—Ç–æ–¥: –°–∏–º–≤–æ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ + SMT —Ä–µ—à–µ–Ω–∏–µ

–ü—É—Ç—å 1: load > threshold
  priority = (target_priority - 10).max(MIN_PRIORITY)
  ‚úì priority >= MIN_PRIORITY (–ø–æ max)
  
–ü—É—Ç—å 2: responsiveness > 2000
  priority = (priority - 5).max(MIN_PRIORITY)
  ‚úì priority >= MIN_PRIORITY (–ø–æ max)
  
–ü—É—Ç—å 3: memory < 100
  priority = (priority - 3).max(MIN_PRIORITY)
  ‚úì priority >= MIN_PRIORITY (–ø–æ max)
  
–§–∏–Ω–∞–ª: priority.clamp(MIN_PRIORITY, MAX_PRIORITY)
  ‚úì MIN_PRIORITY <= result <= MAX_PRIORITY (–ø–æ clamp)

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
```

**3. –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ 2 (ensures):**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: load > 50.0 ==> result <= current_priority
–ú–µ—Ç–æ–¥: –ò–º–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ SMT

–°–ª—É—á–∞–π A: load <= 50.0
  –ò–º–ø–ª–∏–∫–∞—Ü–∏—è vacuously true
  ‚úì PASS

–°–ª—É—á–∞–π B: load > 50.0
  –ü—Ä–æ–≤–µ—Ä—è–µ–º: result <= current_priority
  
  –ê–Ω–∞–ª–∏–∑:
  - –ï—Å–ª–∏ load > threshold, priority —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 10
  - –ï—Å–ª–∏ responsiveness > 2000, priority —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 5
  - –ï—Å–ª–∏ memory < 100, priority —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 3
  - clamp –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
  
  ‚úì result <= target_priority <= MAX_PRIORITY
  
  –ù–û! –ü—Ä–æ–±–ª–µ–º–∞: current_priority –º–æ–∂–µ—Ç –±—ã—Ç—å != target_priority
  
  –ï—Å–ª–∏ current_priority < target_priority:
    result –º–æ–∂–µ—Ç –±—ã—Ç—å > current_priority
    ‚ùå FAIL

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
```

**–í—ã–≤–æ–¥:** Prusti –Ω–∞—à—ë–ª –±—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ!

---

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç 2: apply_priority_adjustment

```rust
#[requires(MIN_PRIORITY <= old_priority && old_priority <= MAX_PRIORITY)]
#[requires(step > 0)]
#[ensures(MIN_PRIORITY <= result && result <= MAX_PRIORITY)]
#[ensures(result <= old_priority)]
pub fn apply_priority_adjustment(old_priority: i32, step: i32) -> i32 {
    (old_priority - step).max(MIN_PRIORITY)
}
```

#### –ß—Ç–æ Prusti –ø—Ä–æ–≤–µ—Ä–∏–ª –±—ã:

**1. –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è:**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: MIN_PRIORITY <= old_priority <= MAX_PRIORITY
–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: step > 0
–ú–µ—Ç–æ–¥: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ call sites
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS (–µ—Å–ª–∏ –≤—Å–µ –≤—ã–∑–æ–≤—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã)
```

**2. –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ 1:**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: MIN_PRIORITY <= result <= MAX_PRIORITY
–ú–µ—Ç–æ–¥: –°–∏–º–≤–æ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

–ê–Ω–∞–ª–∏–∑:
  result = (old_priority - step).max(MIN_PRIORITY)
  
  –°–ª—É—á–∞–π A: old_priority - step >= MIN_PRIORITY
    result = old_priority - step
    ‚úì result >= MIN_PRIORITY (–ø–æ —É—Å–ª–æ–≤–∏—é)
    ‚úì result <= MAX_PRIORITY (—Ç.–∫. result < old_priority <= MAX_PRIORITY)
  
  –°–ª—É—á–∞–π B: old_priority - step < MIN_PRIORITY
    result = MIN_PRIORITY
    ‚úì result >= MIN_PRIORITY (–ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é)
    ‚úì result <= MAX_PRIORITY (—Ç.–∫. MIN_PRIORITY < MAX_PRIORITY)

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
```

**3. –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ 2:**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: result <= old_priority
–ú–µ—Ç–æ–¥: –°–∏–º–≤–æ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

–ê–Ω–∞–ª–∏–∑:
  result = (old_priority - step).max(MIN_PRIORITY)
  
  –°–ª—É—á–∞–π A: old_priority - step >= MIN_PRIORITY
    result = old_priority - step
    ‚úì result < old_priority (—Ç.–∫. step > 0)
  
  –°–ª—É—á–∞–π B: old_priority - step < MIN_PRIORITY
    result = MIN_PRIORITY
    ‚úì result <= old_priority (—Ç.–∫. old_priority >= MIN_PRIORITY)

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
```

**–í—ã–≤–æ–¥:** –í—Å–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã! ‚úÖ

---

### –ö–æ–Ω—Ç—Ä–∞–∫—Ç 3: needs_adjustment

```rust
#[pure]
pub fn needs_adjustment(load: f64, threshold: f64, priority: i32) -> bool {
    load > threshold && priority > MIN_PRIORITY
}
```

#### –ß—Ç–æ Prusti –ø—Ä–æ–≤–µ—Ä–∏–ª –±—ã:

**1. Pure –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è:**
```
–ü—Ä–æ–≤–µ—Ä–∫–∞: –§—É–Ω–∫—Ü–∏—è –Ω–µ –∏–º–µ–µ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
–ú–µ—Ç–æ–¥: –ê–Ω–∞–ª–∏–∑ —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏

–ê–Ω–∞–ª–∏–∑:
  - –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚úì
  - –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚úì
  - –ù–µ—Ç I/O –æ–ø–µ—Ä–∞—Ü–∏–π ‚úì
  - –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚úì

–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
```

**–í—ã–≤–æ–¥:** Pure —Ñ—É–Ω–∫—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞! ‚úÖ

---

## üìä –°–≤–æ–¥–∫–∞ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º

| –§—É–Ω–∫—Ü–∏—è | –ö–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ü—Ä–æ–±–ª–µ–º—ã |
|---------|------------|-----------|----------|
| `calculate_optimal_priority_verified` | 3 | ‚ö†Ô∏è | 1 –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è |
| `apply_priority_adjustment` | 4 | ‚úÖ | 0 |
| `needs_adjustment` | 1 | ‚úÖ | 0 |

### –ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

**–ö–æ–Ω—Ç—Ä–∞–∫—Ç:**
```rust
#[ensures(load > 50.0 ==> result <= current_priority)]
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
–§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `target_priority`, –∞ –Ω–µ `current_priority` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```rust
// –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç
#[ensures(load > 50.0 ==> result <= target_priority)]

// –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
pub fn calculate_optimal_priority_verified(
    current_priority: i32,  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ target_priority
    load: f64,
    responsiveness_ms: u64,
    available_memory_mb: u64,
    num_cpus: usize,
) -> i32 {
    let mut priority = current_priority;  // –ù–∞—á–∏–Ω–∞–µ–º —Å current
    // ...
}
```

---

## üî¨ –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ö–∞–∫ Prusti –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

#### –®–∞–≥ 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Å–ª–æ–≤–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (VCs)

```
–î–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏:
  1. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ SSA —Ñ–æ—Ä–º—É
  2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
     a. –°–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è (requires)
     b. –°–∏–º–≤–æ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ–ª–æ
     c. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è (ensures)
  3. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É –¥–ª—è SMT solver
```

#### –®–∞–≥ 2: –ü–µ—Ä–µ–≤–æ–¥ –≤ Viper

```rust
// Rust —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏
#[requires(x > 0)]
#[ensures(result > 0)]
pub fn increment(x: i32) -> i32 {
    x + 1
}

// ‚Üì ‚Üì ‚Üì Viper IR

method increment(x: Int) returns (result: Int)
  requires x > 0
  ensures result > 0
{
  result := x + 1
}
```

#### –®–∞–≥ 3: SMT —Ä–µ—à–µ–Ω–∏–µ

```
Viper ‚Üí Z3 SMT —Ñ–æ—Ä–º—É–ª–∞:

‚àÄ x: Int. (x > 0) ‚áí (x + 1 > 0)

Z3 –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
  ¬¨(‚àÄ x: Int. (x > 0) ‚áí (x + 1 > 0))
  
–ï—Å–ª–∏ UNSAT ‚Üí –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω ‚úÖ
–ï—Å–ª–∏ SAT ‚Üí –Ω–∞–π–¥–µ–Ω –∫–æ–Ω—Ç—Ä–ø—Ä–∏–º–µ—Ä ‚ùå
```

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Prusti (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ)

### 1. –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å

```
Prusti –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
  Kani:   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –ø—É—Ç–∏ –¥–æ –≥–ª—É–±–∏–Ω—ã N
  Prusti: –î–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Å–ª—É—á–∞–µ–≤
```

### 2. –ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å

```rust
#[pure]
fn is_valid(x: i32) -> bool { x >= 0 }

#[requires(is_valid(x))]
#[ensures(is_valid(result))]
pub fn process(x: i32) -> i32 {
    x.clamp(0, 100)
}

// Prusti –ø—Ä–æ–≤–µ—Ä–∏—Ç:
// 1. is_valid –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
// 2. process –∏—Å–ø–æ–ª—å–∑—É–µ—Ç is_valid –ø—Ä–∞–≤–∏–ª—å–Ω–æ
// 3. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
```

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

```rust
// –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã = –∂–∏–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
#[requires(balance >= amount)]
#[ensures(result.balance == old(balance) - amount)]
pub fn withdraw(balance: u64, amount: u64) -> Account

// –ß–∏—Ç–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ:
// - –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥–µ
// - –ß—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤—ã—Ö–æ–¥–µ
```

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Kani (–Ω–∞ –Ω–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)

### apply_priority_adjustment

**Kani:**
```
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –í—Å–µ –ø—É—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤ (—Å–∏–º–≤–æ–ª—å–Ω–æ)
–í—Ä–µ–º—è: 0.027s
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
–ú–µ—Ç–æ–¥: Bounded model checking
```

**Prusti (—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏):**
```
–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ
–í—Ä–µ–º—è: ~1-2s (–æ—Ü–µ–Ω–∫–∞)
–†–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ PASS
–ú–µ—Ç–æ–¥: Deductive verification
```

**–í—ã–≤–æ–¥:** –û–±–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å, –Ω–æ —Ä–∞–∑–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏.

---

## üéØ –ß—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏

### 1. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

–î–∞–∂–µ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ Prusti, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ü–æ–º–æ–≥–∞—é—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã
- –°–ª—É–∂–∞—Ç –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 2. –ù–∞–π–¥–µ–Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–ö–æ–Ω—Ç—Ä–∞–∫—Ç `calculate_optimal_priority_verified` –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º:
```rust
#[ensures(load > 50.0 ==> result <= current_priority)]
```

–ù—É–∂–Ω–æ –ª–∏–±–æ:
- –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞ `target_priority`
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### 3. –î—Ä—É–≥–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

`apply_priority_adjustment` –∏ `needs_adjustment` –ø—Ä–æ—à–ª–∏ –±—ã –ø—Ä–æ–≤–µ—Ä–∫—É Prusti.

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Prusti

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ Docker** (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±)
   ```bash
   docker pull viperproject/prusti
   ```

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É**
   ```rust
   #[ensures(load > 50.0 ==> result <= target_priority)]
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É**
   ```bash
   docker run -v $(pwd):/data viperproject/prusti \
     prusti-rustc /data/src/verification.rs
   ```

### –î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã

1. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤**
   - –î–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pure —Ñ—É–Ω–∫—Ü–∏–∏**
   - –î–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö
   - –î–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π

3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
   - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π

---

## üìö –í—ã–≤–æ–¥—ã

### –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ–∫–∞–∑–∞–ª:

‚úÖ **2 –∏–∑ 3 –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã**
- `apply_priority_adjustment` ‚úÖ
- `needs_adjustment` ‚úÖ

‚ö†Ô∏è **1 –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
- `calculate_optimal_priority_verified` ‚ö†Ô∏è

### –¶–µ–Ω–Ω–æ—Å—Ç—å Prusti:

1. **–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å** - –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞, –∞ –Ω–µ —Ç–µ—Å—Ç—ã
2. **–ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
4. **–†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** - –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å Kani:

```
Kani:   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –ø—É—Ç–∏ (bounded) ‚úÖ
Prusti: –î–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (unbounded) ‚úÖ

–í–º–µ—Å—Ç–µ: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å! üíØ
```

---

## üéâ –ò—Ç–æ–≥

–î–∞–∂–µ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Prusti, –º—ã:
1. ‚úÖ –ù–∞–ø–∏—Å–∞–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
2. ‚úÖ –ü—Ä–æ–≤–µ–ª–∏ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
3. ‚ö†Ô∏è –ù–∞—à–ª–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
4. ‚úÖ –ü–æ–Ω—è–ª–∏, –∫–∞–∫ Prusti —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ Prusti! üöÄ

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker –æ–±—Ä–∞–∑ Prusti –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub.
